(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],[,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo-white.8f7611ae.svg"},,,,function(e,a,t){e.exports=t(17)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(5),c=t.n(l),o=(t(15),t(1)),i=(t(16),t(6)),s=t.n(i);var m=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"header__logo",alt:"logo",src:s.a}))};var u=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Holger Kraus"))},d=t(9),f=t(7),_=t(8),p=new(function(){function e(a){Object(f.a)(this,e),this.baseUrl=a.baseUrl,this.headers=a.headers}return Object(_.a)(e,[{key:"getProfile",value:function(){var e=this.baseUrl.concat("/users/me");return this._getResource(e)}},{key:"updateProfile",value:function(e,a){var t=this.baseUrl.concat("/users/me"),n=JSON.stringify({name:e,about:a});return this._sendRequestWithBody(t,n,"PATCH")}},{key:"updateProfilePicture",value:function(e){var a=this.baseUrl.concat("/users/me/avatar"),t=JSON.stringify({avatar:e});return this._sendRequestWithBody(a,t,"PATCH")}},{key:"getInitialCards",value:function(){var e=this.baseUrl.concat("/cards");return this._getResource(e)}},{key:"addCard",value:function(e,a){var t=this.baseUrl.concat("/cards"),n=JSON.stringify({name:e,link:a});return this._sendRequestWithBody(t,n,"POST")}},{key:"deleteCard",value:function(e){var a=this.baseUrl.concat("/cards/").concat(e);return this._sendRequestWithoutBody(a,"DELETE")}},{key:"addLike",value:function(e){var a=this.baseUrl.concat("/cards/likes/").concat(e);return this._sendRequestWithoutBody(a,"PUT")}},{key:"deleteLike",value:function(e){var a=this.baseUrl.concat("/cards/likes/").concat(e);return this._sendRequestWithoutBody(a,"DELETE")}},{key:"_getResource",value:function(e){return fetch(e,{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"_sendRequestWithoutBody",value:function(e,a){return fetch(e,{method:a,headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"_sendRequestWithBody",value:function(e,a,t){return fetch(e,{method:t,headers:this.headers,body:a}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-1",headers:{Authorization:"cf0daf24-499f-4e4d-a691-bc6825f65b5e","Content-Type":"application/json"}});var h=function(e){return r.a.createElement("li",{className:"element","data-id":"#"},r.a.createElement("a",{className:"element__link",style:{backgroundImage:"url(".concat(e.card.link,")")},href:"#",onClick:function(){e.onCardClick(e.card)}},r.a.createElement("button",{className:"element__remove"}),r.a.createElement("div",{className:"element__title-container"},r.a.createElement("h2",{className:"element__title"},e.card.name),r.a.createElement("div",{className:"element__like"},r.a.createElement("button",{className:"element__like-button"}),r.a.createElement("span",{className:"element__like-count"},"1")))))};var b=function(e){var a=Object(n.useState)("Holger Kraus"),t=Object(o.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)("Yandex Practicum Student"),s=Object(o.a)(i,2),m=s[0],u=s[1],f=Object(n.useState)("https://uploads.innoq.com/variants/8L7UpmhqaTUeq1UnWaqYXMMn/c6102565cc763bd8b0970e3abe89d48675dd7c8c3124b0570a295b43def26f57?response-content-disposition=inline%3B%20filename%3D%22DSC01929_3.jpg%22%3B%20filename%2A%3DUTF-8%27%27DSC01929_3.jpg&response-content-type=image%2Fjpeg&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAJHA5PEZW3OX32LYA%2F20200809%2Feu-central-1%2Fs3%2Faws4_request&X-Amz-Date=20200809T103655Z&X-Amz-Expires=300&X-Amz-SignedHeaders=host&X-Amz-Signature=0d59bb3345b4341f8415cd0e1e6e87b364947e40f853056b93545e62b25a1826"),_=Object(o.a)(f,2),b=_[0],E=_[1],v=Object(n.useState)([]),g=Object(o.a)(v,2),N=g[0],k=g[1];return r.a.useEffect((function(){p.getProfile().then((function(e){c(e.name),u(e.about),E(e.avatar)})).catch((function(e){console.log(e)}))}),[l,m,b]),r.a.useEffect((function(){p.getInitialCards().then((function(e){e.forEach((function(a){k([].concat(Object(d.a)(e),[a]))}))})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("button",{className:"profile__avatar",onClick:e.onEditAvatar},r.a.createElement("img",{className:"profile__avatar-image",alt:"profile avatar",src:b}),r.a.createElement("div",{className:"profile__avatar-edit"})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__name"},l),r.a.createElement("button",{className:"profile__edit-button",onClick:e.onEditProfile}),r.a.createElement("p",{className:"profile__about-me"},m)),r.a.createElement("button",{className:"profile__add-button",onClick:e.onAddPlace})),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__list"},N.map((function(a,t){return r.a.createElement(h,{key:t,card:a,onCardClick:e.onCardClick})})))))};var E=function(e){var a=e.isOpen?"overlay_opened":"";return r.a.createElement("section",{className:"overlay overlay_".concat(e.name," ").concat(a)},r.a.createElement("div",{className:"overlay__container overlay__container_".concat(e.name)},r.a.createElement("form",{action:"#",className:"form",noValidate:!0},r.a.createElement("h2",{className:"form__title"},e.title),e.children,r.a.createElement("button",{type:"submit",className:"form__save"},"Create")),r.a.createElement("button",{className:"overlay__close-button",onClick:e.onClose})))};var v=function(e){return r.a.createElement("section",{className:"overlay overlay_image ".concat(e.card?"overlay_opened":"")},r.a.createElement("div",{className:"overlay__container overlay__container_image"},r.a.createElement("img",{className:"image",alt:"image title",src:e.card&&e.card.link}),r.a.createElement("p",{className:"image__title"},e.card&&e.card.name),r.a.createElement("button",{className:"overlay__close-button",onClick:e.onClose})))};var g=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),s=i[0],d=i[1],f=Object(n.useState)(!1),_=Object(o.a)(f,2),p=_[0],h=_[1],g=Object(n.useState)(null),N=Object(o.a)(g,2),k=N[0],y=N[1];function C(){y(null),h(!1),l(!1),d(!1)}return r.a.createElement("div",{className:"page"},r.a.createElement(m,null),r.a.createElement(b,{onEditProfile:function(){l(!0)},onAddPlace:function(){d(!0)},onEditAvatar:function(){h(!0)},onCardClick:function(e){y(e)}}),r.a.createElement(u,null),r.a.createElement(E,{name:"profile",title:"Edit profile",isOpen:t,onClose:C},r.a.createElement("label",{className:"form__label form__label_title",htmlFor:"profile-name-input"},r.a.createElement("input",{id:"profile-name-input",type:"text",name:"name",className:"form__field form__field_title",minLength:"2",maxLength:"40",pattern:"[a-zA-Z-\\s]*",required:!0}),r.a.createElement("span",{id:"profile-name-input-error",className:"form__field-error"})),r.a.createElement("label",{htmlFor:"profile-aboutme-input",className:"form__label form__label_detail"},r.a.createElement("input",{id:"profile-aboutme-input",type:"text",name:"aboutme",className:"form__field form__field_detail",minLength:"2",maxLength:"200",required:!0}),r.a.createElement("span",{id:"profile-aboutme-input-error",className:"form__field-error"}))),r.a.createElement(E,{name:"place",title:"New place",isOpen:s,onClose:C},r.a.createElement("label",{className:"form__label form__label_title",htmlFor:"place-title-input"},r.a.createElement("input",{id:"place-title-input",type:"text",name:"image-title",className:"form__field form__field_title",placeholder:"Title",minLength:"2",maxLength:"40",required:!0}),r.a.createElement("span",{id:"place-title-input-error",className:"form__field-error"})),r.a.createElement("label",{className:"form__label form__label_detail",htmlFor:"place-link-input"},r.a.createElement("input",{id:"place-link-input",type:"url",name:"image-link",className:"form__field form__field_detail",placeholder:"Image Link",required:!0}),r.a.createElement("span",{id:"place-link-input-error",className:"form__field-error"}))),r.a.createElement(E,{name:"avatarpic",title:"Change Userpic",isOpen:p,onClose:C},r.a.createElement("label",{className:"form__label form__label_title",htmlFor:"avatarpic-link-input"},r.a.createElement("input",{id:"avatarpic-link-input",type:"url",name:"avatarpic-link",className:"form__field form__field_title",placeholder:"Image Link",required:!0}),r.a.createElement("span",{id:"avatarpic-link-input-error",className:"form__field-error"}))),r.a.createElement(E,{name:"confirmation",title:"Are you sure?",isOpen:!1,onClose:C}),r.a.createElement(v,{card:k,onClose:C}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.d1d56382.chunk.js.map